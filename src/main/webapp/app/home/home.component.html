


    <section class="jumbotron text-center" [hidden]="!enableForm">
        <div class="container">
            <h1>Welcome, Cluster Warehouse!</h1>
            <p class="lead text-muted">
                Upload a deal document in a csv format. We will save them in the database and issue you a report.
                We make it short and sweet, but not too short so folks donâ€™t simply skip over it entirely.</p>
            <p>
                <a (click)="showForm()" class="btn btn-primary my-2">Upload Deal</a>
                <a routerLink="/deal" class="btn btn-secondary my-2">View Uploaded Deals</a>
            </p>
        </div>
    </section>

    <section class="jumbotron text-center" [hidden]="enableForm">
        <div class="container">
            <h1>Upload Deal</h1>
            <p class="lead text-muted">
                It takes 5 seconds to process 100,000 deals!
            </p>

            <form name="editForm" role="form" novalidate (ngSubmit)="save()" #editForm="ngForm">
                <div class="container">
                    <app-alert-error></app-alert-error>
                    <div class="form-group align-content-center">
                        <div>
                            <div *ngIf="fileLoader.file" class="form-text text-danger clearfix">
                                <a class="pull-left" (click)="openFile(fileLoader.fileContentType, fileLoader.file)">open</a><br>
                                <span class="pull-left">{{fileLoader.fileContentType}}, {{byteSize(fileLoader.file)}}</span>
                                <button type="button" (click)="fileLoader.file=null;fileLoader.fileContentType=null;"
                                        class="btn btn-secondary btn-xs pull-right">
                                    <fa-icon [icon]="'times'"></fa-icon>
                                </button>
                            </div>
                            <input type="file" id="file_file" (change)="setFileData($event, fileLoader, 'file', false)"/>
                        </div>
                        <input type="hidden" class="form-control" name="file" id="field_file"
                               [(ngModel)]="fileLoader.file" required/>
                        <input type="hidden" class="form-control" name="fileContentType" id="field_fileContentType"
                               [(ngModel)]="fileLoader.fileContentType" />
                        <div [hidden]="!(editForm.controls.file?.dirty && editForm.controls.file?.invalid)">
                            <small class="form-text text-danger"
                                   [hidden]="!editForm.controls.file?.errors?.required">
                                This field is required.
                            </small>
                        </div>
                    </div>

                </div>
                <div>
                    <button type="button" id="cancel-save" class="btn btn-secondary"  (click)="previousState()">
                        <fa-icon [icon]="'ban'"></fa-icon>&nbsp;<span>Cancel</span>
                    </button>
                    <button type="submit" id="save-entity" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary">
                        <fa-icon [icon]="'save'"></fa-icon>&nbsp;<span>Upload</span>
                    </button>
                </div>
            </form>
        </div>
    </section>

        <div  *ngIf="deals.length > 0" class="album py-5 bg-light" >
            <div class="container">
                <div class="row">
                    <div class="col-md-4" *ngFor="let deal of deals ;trackBy: trackId">
                        <div class="card mb-4 shadow-sm">
                            <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"/><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
                            <div class="card-body">
                                <p class="card-text"> {{deal.source}}</p>
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="btn-group">
                                        <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                                        <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button>
                                    </div>
                                    <small class="text-muted">9 mins</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
